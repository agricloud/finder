{
    "type": "Ext.container.Container",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "height": null,
        "width": null,
        "designer|userClassName": "ForwardTraceTreeCt",
        "designer|initialView": true,
        "layout": "fit"
    },
    "designerId": "27738884-27eb-4b4f-a044-887a4c636a35",
    "cn": [
        {
            "type": "Ext.tree.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "height": null,
                "width": null,
                "collapsible": false,
                "title": "ForwardTrace",
                "normalViewConfig": null,
                "store": "ForwardTraceTreeStore",
                "singleExpand": true,
                "useArrows": true
            },
            "designerId": "f2ee412d-e91b-4d6a-8a40-deaa8bc0d566",
            "isBuiltIn": true,
            "iconCls": "icon-treegridpanel",
            "autoName": "TreeGrid",
            "cn": [
                {
                    "type": "Ext.tree.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "item.title",
                        "text": "Item.title",
                        "flex": 1
                    },
                    "designerId": "5871ea91-f1fc-48e7-b40c-81791691c9d3"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "id",
                        "text": "id"
                    },
                    "designerId": "0a695f63-546f-4998-bb45-454df90f2892"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "name",
                        "text": "name"
                    },
                    "designerId": "1dae40d7-318d-411b-bef2-c6bd76628457"
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "expectQty",
                        "text": "expectQty",
                        "flex": 1
                    },
                    "designerId": "32fb3bd2-28c4-4335-9a79-366ee3239526"
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "dueDate",
                        "text": "dueDate",
                        "flex": 1
                    },
                    "designerId": "bec37231-c499-4574-9ea5-e282e24ee80b"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "country",
                        "text": "country",
                        "flex": 1
                    },
                    "designerId": "b96524dc-9deb-4efa-8efc-90cb7b2f1ede"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "supplier.id",
                        "text": "supplier.id",
                        "flex": 1
                    },
                    "designerId": "4a3b80c1-80ab-4ae4-b7c0-bf14a68e35ab"
                },
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "top"
                    },
                    "designerId": "fb6c26df-d380-41f0-904c-04b86a7ad2ba",
                    "cn": [
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "text": "Expand All"
                            },
                            "designerId": "91ad13c1-7db0-4111-af4d-e7ce2adcbe99",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onButtonClick",
                                        "implHandler": [
                                            "var me = button.up('treepanel');",
                                            "var toolbar = me.down('toolbar');",
                                            "",
                                            "me.getEl().mask('Expanding tree...');",
                                            "toolbar.disable();",
                                            "",
                                            "me.expandAll(function() {",
                                            "    me.getEl().unmask();",
                                            "    toolbar.enable();",
                                            "});"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "designerId": "c735f9ae-2d60-4253-b5a8-21c114c282c4"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "text": "Collapse All"
                            },
                            "designerId": "ba313773-96c6-4561-a084-0bbd0650a958",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onButtonClick1",
                                        "implHandler": [
                                            "var me = button.up(\"treepanel\")",
                                            "var toolbar = me.down('toolbar');",
                                            "",
                                            "toolbar.disable();",
                                            "me.collapseAll(function() {",
                                            "    toolbar.enable();",
                                            "});"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "designerId": "334f66c4-8489-4c1f-8023-f043910bdbcc"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Trigger",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "itemId": "batchTriggerField",
                                "fieldLabel": "輸入批號"
                            },
                            "designerId": "2b638a41-f4c8-414d-b271-f783941eb447",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onBatchTriggerFieldActivate",
                                        "implHandler": [
                                            "console.log('activate');"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "designerId": "00d4d3a7-7583-492f-8f45-17d6bcbadaab"
                                },
                                {
                                    "type": "basicfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onTriggerClick",
                                        "implHandler": [
                                            "Ext.Msg.alert('Status', 'You clicked my trigger!');",
                                            "var batchStore=Ext.getStore('BatchShowDeepStore');",
                                            "var treeStore=this.up().up().getStore();",
                                            "",
                                            "batchStore.load({",
                                            "    params:{",
                                            "        'id':this.getValue()",
                                            "    },",
                                            "    callback: function(records, operation, success) {",
                                            "        console.log(records);",
                                            "        var root={",
                                            "            id:records[0].data.id,",
                                            "            name:records[0].data.name,",
                                            "            'item.title':records[0].data['item.title'],",
                                            "            expectQty:records[0].data.expectQty,",
                                            "            country:records[0].data.country",
                                            "",
                                            "        };",
                                            "        treeStore.setRootNode(root);",
                                            "",
                                            "    }",
                                            "});"
                                        ]
                                    },
                                    "designerId": "2ea75773-daf6-4ca5-822f-7b3431711e7c"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
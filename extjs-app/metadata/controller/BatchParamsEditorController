{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "models": [
            "Batch",
            "ItemRoute",
            "ReportParams"
        ],
        "stores": [
            "BatchStore",
            "BatchParamsStore",
            "BatchItemRouteStore"
        ],
        "views": [
            "BatchParamsEditorCt",
            "BatchParamsCollectWindow"
        ],
        "designer|userClassName": "BatchParamsEditorController",
        "mixins": [
            "{",
            "        BatchViewerCtrl: 'foodprint.controller.BatchViewerController'",
            "",
            "}"
        ]
    },
    "designerId": "b45ae00c-f10f-4e06-afac-1db682d3ce23",
    "cn": [
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchParamsEditorCt",
                "selector": "batchparamseditorct"
            },
            "designerId": "7cbf55b4-dda1-49ae-a354-396c4e269377"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchParamsEditor",
                "selector": "batchparamseditor"
            },
            "designerId": "7afc0ef2-5b70-47ba-b132-f491b44d9bb5"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchParamsRouteGrid",
                "selector": "batchparamsroutegrid"
            },
            "designerId": "983d1235-9083-4028-9722-5dd9162dd43f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchGrid",
                "selector": "batchgrid"
            },
            "designerId": "cf2c750e-4d15-4dbb-90f1-49e81227611f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchViewer",
                "selector": "batchviewer"
            },
            "designerId": "cdd2ad0f-374a-4918-b823-b5260cc22b9b"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchForm",
                "selector": "form"
            },
            "designerId": "1286dca8-4881-4c0e-bc69-1eaf7fd61fcf"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchParamsCollect",
                "selector": "batchparamscollect"
            },
            "designerId": "3fdade66-f40e-40b4-9a7a-cf88c0e8e7c9"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "init",
                "designer|params": [
                    "application"
                ],
                "implHandler": [
                    "this.control({",
                    "    'batchparamseditorct grid[itemId=batchGrid]':{",
                    "        itemdblclick:this.readBatch",
                    "    },",
                    "    'batchparamscollect grid[itemId=batchParamRouteGrid]':{",
                    "        itemdblclick:this.collectParams",
                    "    }",
                    "});"
                ]
            },
            "designerId": "289ac197-fded-4411-8cea-f7e0e0141ccf"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "readBatch",
                "designer|params": [
                    "obj, record, item, index, e, eOpts"
                ],
                "implHandler": [
                    "console.log('batchParamsEditorCtrl.readBatch[dblClick]');",
                    "",
                    "this.getBatchForm().getForm().reset();",
                    "",
                    "this.getBatchParamsEditor().setActiveTab(this.getBatchViewer().up());",
                    "this.doDisplay(record);",
                    "",
                    "this.loadBatchParams(record.data.id);"
                ]
            },
            "designerId": "42e9cfbf-429e-4437-a431-844f01da3692"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "loadBatchParams",
                "designer|params": [
                    "id"
                ],
                "implHandler": [
                    "this.getBatchParamsCollect().setActiveTab(this.getBatchParamsRouteGrid().up());",
                    "var store=this.getBatchParamsRouteGrid().getStore();",
                    "store.data.clear();",
                    "",
                    "store.load({",
                    "    params:{",
                    "    \tid:id",
                    "\t}",
                    "});",
                    "",
                    "Ext.widget('batchparamscollectwindow');",
                    "",
                    "var bpstore=this.getBatchParamsParamGrid().getStore();",
                    "bpstore.data.clear();",
                    "bpstore.load({",
                    "    params:{",
                    "    \tid:id",
                    "\t}",
                    "});"
                ]
            },
            "designerId": "465ad607-e839-48b9-b294-a59e6d16552a"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "collectParams",
                "designer|params": [
                    "obj, record, item, index, e, eOpts"
                ],
                "implHandler": [
                    "",
                    "var bpstore=this.getBatchParamsParamGrid().getStore();",
                    "bpstore.clearFilter();",
                    "bpstore.filter('workstation_id',record.data.workstation_id);",
                    "this.getBatchParamsCollectWindow().show();"
                ]
            },
            "designerId": "f597b3f8-c1ed-4ac6-b931-68c26157061e"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchParamsCollectWindow",
                "selector": "batchparamscollectwindow"
            },
            "designerId": "a094a472-92c9-449a-a513-fcd7dc230e87"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "batchParamsParamGrid",
                "selector": "batchparamsparamgrid"
            },
            "designerId": "f7b6c830-5912-4121-ae01-2cf770849a48"
        }
    ]
}